(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerPolicy&&(l.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?l.credentials="include":t.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(t){if(t.ep)return;t.ep=!0;const l=o(t);fetch(t.href,l)}})();const G={generateMatrix:function(e,n,o){E(e,n,o,!0);const r=n-o,t=n+o,l=Array.from({length:e},()=>Array.from({length:e},()=>1/0));for(let a=0;a<e;a+=1)for(let i=0;i<e;i+=1)a%2!==i%2&&(l[a][i]=Math.floor(Math.random()*(t-r+1))+r);return l},generateLessonDuration:function(e){return E(e),Array.from({length:e},()=>Math.floor(Math.random()*(120-45+1))+45)}};function E(e,n,o,r=!1){if(!Number.isInteger(e)||e<=0||e%2!==0)throw new Error("Неправильні вхідні дані! Очікується ціле додатнє парне число для numOfStudents.");if(r&&(n<0||o<0))throw new Error("Неправильні вхідні дані! Очікуються не від’ємні значення для tau і deltaTau.")}const L=G.generateMatrix,W=G.generateLessonDuration;function j(e,n){let o=0,r=0;e.forEach((a,i)=>{let s=Math.min.apply(null,a);(isNaN(s)||!isFinite(s))&&(s=0),o+=s;let f=a.map(c=>c-=s);e[i]=f}),e=e[0].map((a,i)=>e.map(s=>s[i])),e.forEach((a,i)=>{let s=Math.min.apply(null,a);(isNaN(s)||!isFinite(s))&&(s=0),r+=s;let f=a.map(c=>c-=s);e[i]=f}),e=e[0].map((a,i)=>e.map(s=>s[i]));let t=o+r;return{index:n,matrix:e,cost:t}}function Q(e,n,o){const r=e.map(t=>t.slice());for(let t=0;t<e.length;t+=1)r[n][t]=1/0,r[t][o]=1/0,r[o][n]=1/0,r[o][0]=1/0;return r}function U(e){for(let i=0;i<e.length;i+=1)for(let s=0;s<e.length;s+=1)i==s&&(e[i][s]=1/0);const n=[],o=j(e,0);n.push({Node:o.index+1,cost:o.cost});let r=o.index,t=o.matrix.map(i=>i.slice()),l=o.cost;for(let i=0;i<e.length-1;i++){let s=[];for(let c=1;c<e.length;c++){const p=Q(t,r,c),M=j(p,c);M.cost=M.cost+l+t[r][c],s.push(M)}let f=s.reduce(function(c,p){return c.cost<p.cost?c:p});n.push({Node:f.index+1,cost:f.cost}),r=f.index,t=f.matrix.map(c=>c.slice()),l=f.cost}const a=n[n.length-1].cost;return{minCostArray:n,lastCost:a}}function X(e){let n="";for(let o=0;o<e.length;o++){const r=o===e.length-1,t=e[o].Node,l=o%2===0;r?n+=l?`g${t}`:`b${t}`:n+=l?`g${t} -> `:`b${t} -> `}return n}function Y(e){return e.reduce((n,o)=>n+o,0)}function ee(e,n){return e+n}function _(e,n){const o=performance.now();let{minCostArray:r,lastCost:t}=U(e),l=X(r),a=Y(n),i=ee(a,t);const f=performance.now()-o;return{totalWorkTimeBnB:i,scheduleBnB:l,executionTimeBnB:f}}const te=8,ne=100,$=[10,50];function oe(e,n,o){let r=[];const t=W(e);for(let l=0;l<o.length;l+=1){const a=L(e,n,o[l]);let i=_(a,t);r.push(i.totalWorkTimeBnB)}return r}let S=oe(te,ne,$);console.log(S);function re(e,n,o){const r=document.getElementById(o).getContext("2d");new Chart(r,{type:"bar",data:{labels:e,datasets:[{label:"ЦФ vs ∆τ",data:n,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:0}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Графік залежності ЦФ від ∆τ"},tooltip:{callbacks:{label:function(t){return`Цільова функція: ${t.raw}`}}}},scales:{x:{beginAtZero:!0,title:{display:!0,text:"Значення напівінтервалу ∆τ"}},y:{beginAtZero:!0,title:{display:!0,text:"Цільова Функція"}}}}})}re($,S,"bnbTest");function V(e,n,o){let r=-1,t=1/0;for(let l=0;l<e.length;l++)!o.has(l)&&e[n][l]<t&&(t=e[n][l],r=l);return r}function le(e){let n=e.length,o=new Set,r=[],t=Math.floor(Math.random()*n);for(r.push(t),o.add(t);r.length<n;){let l=V(e,t,o);if(l===-1)break;r.push(l),o.add(l),t=l}return r}function ie(e){const n=performance.now();let o=e.length,r=new Set,t=[],l=Math.floor(Math.random()*o);for(t.push(l),r.add(l);t.length<o;){let s=V(e,l,r);if(s===-1)break;t.push(s),r.add(s),l=s}const i=performance.now()-n;return{schedule:t,executionTimeGreedy:i}}function se(e,n,o=1){const r=performance.now();let t=1,l=.7,a=.1,i=[],s=10,f=[],c,p=n.slice().map(d=>d.slice());function M(d){return d.map(u=>Math.min(...u))}M(p);function P(d,u){const w=M(d);return u+=w.reduce((b,T)=>b+T,0),{matrix:d.map((b,T)=>b.map((B,m)=>B-w[T])),minBorder:u}}let{matrix:v,minBorder:I}=P(p,0);function C(d){const u=[];return Object.keys(d[0]).forEach(y=>{const b=d.map(T=>T[y]);u[y]=Math.min(...b)}),u}C(p);function N(d,u){const w=C(d);return u+=Object.values(w).reduce((b,T)=>b+T,0),{matrix:d.map((b,T)=>b.map((B,m)=>B-w[m])),minBorder:u}}let{matrix:k,minBorder:q}=N(p,0),K=q+I;for(let d=0;d<e;++d){i[d]=[];for(let u=0;u<e;++u)n[d][u]!=1/0?i[d][u]=l:i[d][u]=1/0}for(let d=1;d<=s;d++){let u=Math.floor(Math.random()*e),w=n.slice().map(m=>m.slice()),y=[],b=0,T=Array.from({length:e},()=>Array(e).fill(0));for(y.push(u);y.length<e;){for(let g=0;g<e;g++)w[g][u]=1/0;let m=0,h=new Map;for(let g=0;g<e;g++)w[u][g]!=1/0&&(m+=parseFloat(i[u][g]**o)*(1/n[u][g])**t);for(let g=0;g<e;g++){let x=0;if(w[u][g]!=1/0)if(x=parseFloat(i[u][g]**o*(1/n[u][g])**t/m).toFixed(4),h.size===0)h.set(g,parseFloat(x));else{let J=Array.from(h.values()).pop();x=parseFloat(parseFloat(x)+parseFloat(J)).toFixed(4),h.set(g,parseFloat(x))}}let F=parseFloat(Math.random()).toFixed(4);for(let[g,x]of h.entries())if(parseFloat(F)<=parseFloat(x)){u=g,y.push(u);break}}for(let m=0;m<y.length-1;m++){const h=y[m],F=y[m+1];b+=parseFloat(n[h][F]),T[h][F]=1}let B=K/b;for(let m=0;m<e;m++)for(let h=0;h<e;h++)n[m][h]!=1/0&&(T[m][h]===1?i[m][h]=parseFloat((1-a)*i[m][h]+B).toFixed(4):i[m][h]=parseFloat((1-a)*i[m][h]).toFixed(4));(d===1||c>b)&&(f=y,c=b)}console.log("Розклад: ",f),console.log("Значення ЦФ: ",c);const H=performance.now()-r;return{result:f,result_func:c,executionTime:H}}function R(e,n){let o=0;for(let r=0;r<n.length-1;r++)o+=e[n[r]][n[r+1]];return o}function ae(e,n){let o=e.slice(),r=Math.random()<.5?0:1,t=[];for(let s=0;s<n;s++)s%2===r&&t.push(s);let l=t[Math.floor(Math.random()*t.length)],a=t[Math.floor(Math.random()*t.length)];for(;l===a;)a=t[Math.floor(Math.random()*t.length)];let i=o[l];return o[l]=o[a],o[a]=i,o}function ce(e,n=le(e),o=1e3){const r=performance.now();let t=n,l=t,a=R(e,t),i=0;for(;i<o;){let c=ae(t,t.length),p=R(e,c);p<a&&(a=p,l=c),t=c,i++}const f=performance.now()-r;return{bestSchedule:l,bestTime:a,executionTimePairwise:f}}const Z=[4,6,8,10,12,14,16,18,20],z=100,D=10,ue=O(Z,z,D);he(ue,"timeTest");let{averageTimesGreedy:de,averageTimesAnt:fe,averageTimesBnB:me,averageTimesPP:ge}=O(Z,z,D);console.log("averageTimesGreedy – ",de);console.log("averageTimesAnt – ",fe);console.log("averageTimesBnB – ",me);console.log("averageTimesPP – ",ge);function O(e,n,o){let r=[],t=[],l=[],a=[];for(let i=0;i<e.length;i+=1){let s=[],f=[],c=[],p=[];for(let M=0;M<20;M+=1){const P=W(e[i],n,o),v=L(e[i],n,o),I=ie(v).executionTimeGreedy,C=se(e,v).executionTime,N=_(v,P).executionTimeBnB,k=ce(v).executionTimePairwise;s.push(I),c.push(N),p.push(k),f.push(C)}r.push(A(s)),l.push(A(c)),a.push(A(p)),t.push(A(f))}return{labels:e,averageTimesGreedy:r,averageTimesAnt:t,averageTimesBnB:l,averageTimesPP:a}}function he(e,n){const o=document.getElementById(n).getContext("2d");new Chart(o,{type:"bar",data:{labels:e.labels,datasets:[{label:"Greedy",data:e.averageTimesGreedy,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:1},{label:"Ant",data:e.averageTimesAnt,backgroundColor:"rgb(182, 96, 130)",borderColor:"rgba(180, 70, 130, 1)",borderWidth:1},{label:"BnB",data:e.averageTimesBnB,backgroundColor:"rgb(96, 182, 130)",borderColor:"rgba(70, 180, 130, 1)",borderWidth:1},{label:"Pairwise",data:e.averageTimesPP,backgroundColor:"rgb(130, 96, 182)",borderColor:"rgba(130, 70, 180, 1)",borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Average Execution Time vs Number of Students"},tooltip:{callbacks:{label:function(r){return`Average Execution Time: ${r.raw}`}}}},scales:{x:{beginAtZero:!1,title:{display:!0,text:"Number of Students (n)"}},y:{beginAtZero:!1,title:{display:!0,text:"Average Execution Time (ms)"}}},layout:{backgroundColor:"rgba(211, 211, 211, 1)"}}})}function A(e){if(e.length===0)return 0;let n=0;for(let o=0;o<e.length;o++)n+=e[o];return n/e.length}
//# sourceMappingURL=commonHelpers.js.map
