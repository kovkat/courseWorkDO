(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function o(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(t){if(t.ep)return;t.ep=!0;const i=o(t);fetch(t.href,i)}})();const H={generateMatrix:function(e,n,o){L(e,n,o,!0);const r=n-o,t=n+o,i=Array.from({length:e},()=>Array.from({length:e},()=>1/0));for(let s=0;s<e;s+=1)for(let l=0;l<e;l+=1)s%2!==l%2&&(i[s][l]=Math.floor(Math.random()*(t-r+1))+r);return i},generateLessonDuration:function(e){return L(e),Array.from({length:e},()=>Math.floor(Math.random()*(120-45+1))+45)},getDefaultInputValues:function(){return{matrix:[[1/0,15,1/0,20,1/0,5,1/0,10],[5,1/0,15,1/0,5,1/0,10,1/0],[1/0,20,1/0,15,1/0,5,1/0,5],[10,1/0,20,1/0,5,1/0,10,1/0],[1/0,15,1/0,15,1/0,5,1/0,5],[10,1/0,15,1/0,10,1/0,10,1/0],[1/0,20,1/0,20,1/0,10,1/0,5],[5,1/0,15,1/0,5,1/0,5,1/0]],trainingDuration:[40,120,90,90,60,50,60,40]}}};function L(e,n,o,r=!1){if(!Number.isInteger(e)||e<=0||e%2!==0)throw new Error("Неправильні вхідні дані! Очікується ціле додатнє парне число для numOfStudents.");if(r&&(n<0||o<0))throw new Error("Неправильні вхідні дані! Очікуються не від’ємні значення для tau і deltaTau.")}const D=H.generateMatrix,G=H.generateLessonDuration;function _(e,n,o=1){const r=performance.now();let t=1,i=.7,s=.1,l=[],a=10,u=[],c,p=n.slice().map(f=>f.slice()),x=G(e);function M(f){return f.map(d=>Math.min(...d))}M(p);function I(f,d){const w=M(f);return d+=w.reduce((y,T)=>y+T,0),{matrix:f.map((y,T)=>y.map((B,m)=>B-w[T])),minBorder:d}}let{matrix:v,minBorder:A}=I(p,0);function C(f){const d=[];return Object.keys(f[0]).forEach(b=>{const y=f.map(T=>T[b]);d[b]=Math.min(...y)}),d}C(p);function P(f,d){const w=C(f);return d+=Object.values(w).reduce((y,T)=>y+T,0),{matrix:f.map((y,T)=>y.map((B,m)=>B-w[m])),minBorder:d}}let{matrix:R,minBorder:ee}=P(p,0),te=ee+A;for(let f=0;f<e;++f){l[f]=[];for(let d=0;d<e;++d)n[f][d]!=1/0?l[f][d]=i:l[f][d]=1/0}for(let f=1;f<=a;f++){let d=Math.floor(Math.random()*e),w=n.slice().map(m=>m.slice()),b=[],y=0,T=Array.from({length:e},()=>Array(e).fill(0));for(b.push(d);b.length<e;){for(let g=0;g<e;g++)w[g][d]=1/0;let m=0,h=new Map;for(let g=0;g<e;g++)w[d][g]!=1/0&&(m+=parseFloat(l[d][g]**o)*(1/n[d][g])**t);for(let g=0;g<e;g++){let F=0;if(w[d][g]!=1/0)if(F=parseFloat(l[d][g]**o*(1/n[d][g])**t/m).toFixed(4),h.size===0)h.set(g,parseFloat(F));else{let ne=Array.from(h.values()).pop();F=parseFloat(parseFloat(F)+parseFloat(ne)).toFixed(4),h.set(g,parseFloat(F))}}let $=parseFloat(Math.random()).toFixed(4);for(let[g,F]of h.entries())if(parseFloat($)<=parseFloat(F)){d=g,b.push(d);break}}for(let m=0;m<b.length-1;m++){const h=b[m],$=b[m+1];y+=parseFloat(n[h][$])+x[m],T[h][$]=1}let B=te/y;for(let m=0;m<e;m++)for(let h=0;h<e;h++)n[m][h]!=1/0&&(T[m][h]===1?l[m][h]=parseFloat((1-s)*l[m][h]+B).toFixed(4):l[m][h]=parseFloat((1-s)*l[m][h]).toFixed(4));(f===1||c>y)&&(u=b,c=y)}const W=performance.now()-r;return console.log("Розклад: ",u),console.log("Значення ЦФ: ",c),console.log("ExecutionTime: ",W),{result:u,result_func:c,executionTime:W}}const oe=8,re=100,ie=10,j=[1,2,3,4,5];function le(e,n,o,r){let t=[],i=D(e,n,o);console.table(i);for(let s=0;s<r.length;s+=1){let l=_(e,i,r[s]);t.push(l.result_func),console.log(t)}return t}let se=le(oe,re,ie,j);function ae(e,n,o){const r=document.getElementById(o).getContext("2d");new Chart(r,{type:"bar",data:{labels:j,datasets:[{label:"ЦФ vs a",data:n,backgroundColor:"rgb(255, 182, 193, 0.5)",borderColor:"rgba(255, 105, 180, 1)",borderWidth:0}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Графік залежності ЦФ від a"},tooltip:{callbacks:{label:function(t){return`Цільова функція: ${t.raw}`}}}},scales:{x:{beginAtZero:!0,title:{display:!0,text:"Значення напівінтервалу a"}},y:{beginAtZero:!0,title:{display:!0,text:"Цільова Функція"}}}}})}ae(j,se,"antTest");function Z(e,n){let o=0,r=0;e.forEach((s,l)=>{let a=Math.min.apply(null,s);(isNaN(a)||!isFinite(a))&&(a=0),o+=a;let u=s.map(c=>c-=a);e[l]=u}),e=e[0].map((s,l)=>e.map(a=>a[l])),e.forEach((s,l)=>{let a=Math.min.apply(null,s);(isNaN(a)||!isFinite(a))&&(a=0),r+=a;let u=s.map(c=>c-=a);e[l]=u}),e=e[0].map((s,l)=>e.map(a=>a[l]));let t=o+r;return{index:n,matrix:e,cost:t}}function ce(e,n,o){const r=e.map(t=>t.slice());for(let t=0;t<e.length;t+=1)r[n][t]=1/0,r[t][o]=1/0,r[o][n]=1/0,r[o][0]=1/0;return r}function ue(e){for(let l=0;l<e.length;l+=1)for(let a=0;a<e.length;a+=1)l==a&&(e[l][a]=1/0);const n=[],o=Z(e,0);n.push({Node:o.index+1,cost:o.cost});let r=o.index,t=o.matrix.map(l=>l.slice()),i=o.cost;for(let l=0;l<e.length-1;l++){let a=[];for(let c=1;c<e.length;c++){const p=ce(t,r,c),x=Z(p,c);x.cost=x.cost+i+t[r][c],a.push(x)}let u=a.reduce(function(c,p){return c.cost<p.cost?c:p});n.push({Node:u.index+1,cost:u.cost}),r=u.index,t=u.matrix.map(c=>c.slice()),i=u.cost}const s=n[n.length-1].cost;return{minCostArray:n,lastCost:s}}function de(e){let n="";for(let o=0;o<e.length;o++){const r=o===e.length-1,t=e[o].Node,i=o%2===0;r?n+=i?`g${t}`:`b${t}`:n+=i?`g${t} -> `:`b${t} -> `}return n}function fe(e){return e.reduce((n,o)=>n+o,0)}function me(e,n){return e+n}function J(e,n){const o=performance.now();let{minCostArray:r,lastCost:t}=ue(e),i=de(r),s=fe(n),l=me(s,t);const u=performance.now()-o;return{totalWorkTimeBnB:l,scheduleBnB:i,executionTimeBnB:u}}const ge=8,pe=100,Q=[10,50];function he(e,n,o){let r=[];const t=G(e);for(let i=0;i<o.length;i+=1){const s=D(e,n,o[i]);let l=J(s,t);r.push(l.totalWorkTimeBnB)}return r}let U=he(ge,pe,Q);console.log(U);function ye(e,n,o){const r=document.getElementById(o).getContext("2d");new Chart(r,{type:"bar",data:{labels:e,datasets:[{label:"ЦФ vs ∆τ",data:n,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:0}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Графік залежності ЦФ від ∆τ"},tooltip:{callbacks:{label:function(t){return`Цільова функція: ${t.raw}`}}}},scales:{x:{beginAtZero:!0,title:{display:!0,text:"Значення напівінтервалу ∆τ"}},y:{beginAtZero:!0,title:{display:!0,text:"Цільова Функція"}}}}})}ye(Q,U,"bnbTest");function be(e,n,o){let r=[];for(let t=0;t<e;t+=1){r[t]=[];for(let i=0;i<e;i+=1){if(t%2===i%2){r[t][i]=1/0;continue}let s=n-o,l=n+o;r[t][i]=Math.floor(Math.random()*(l-s+1))+s}}return r}function X(e,n,o){let r=-1,t=1/0;for(let i=0;i<e.length;i++)!o.has(i)&&e[n][i]<t&&(t=e[n][i],r=i);return r}function xe(e){let n=e.length,o=new Set,r=[],t=Math.floor(Math.random()*n);for(r.push(t),o.add(t);r.length<n;){let i=X(e,t,o);if(i===-1)break;r.push(i),o.add(i),t=i}return r}function Y(e){const n=performance.now();let o=e.length,r=new Set,t=[],i=Math.floor(Math.random()*o);for(t.push(i),r.add(i);t.length<o;){let a=X(e,i,r);if(a===-1)break;t.push(a),r.add(a),i=a}const l=performance.now()-n;return{schedule:t,executionTimeGreedy:l}}function E(e,n){let o=0;for(let r=0;r<n.length-1;r++)o+=e[n[r]][n[r+1]];return o}function Te(e,n){let o=e.slice(),r=Math.random()<.5?0:1,t=[];for(let a=0;a<n;a++)a%2===r&&t.push(a);let i=t[Math.floor(Math.random()*t.length)],s=t[Math.floor(Math.random()*t.length)];for(;i===s;)s=t[Math.floor(Math.random()*t.length)];let l=o[i];return o[i]=o[s],o[s]=l,o}function N(e,n=xe(e),o=1e3){const r=performance.now();let t=n,i=t,s=E(e,t),l=0;for(;l<o;){let c=Te(t,t.length),p=E(e,c);p<s&&(s=p,i=c),t=c,l++}const u=performance.now()-r;return{bestSchedule:i,bestTime:s,executionTimePairwise:u}}const V=[4,6,8,10,12,14,16,18,20],S=100,z=10;document.addEventListener("DOMContentLoaded",()=>{const e=O(V,S,z);we(e,"deviationTest");let{averageDeviationsFromAnt:n,averageDeviationsFromGreedy:o}=O(V,S,z);console.log("Середні відхилення ЦФ для методу попарних перестановок відносно ЦФ отриманої за допомогою мурашиного алгоритму – ",n),console.log("Середні відхилення ЦФ для методу попарних перестановок відносно ЦФ отриманої за допомогою жадібного алгоритму – ",o)});function O(e,n,o){let r=[],t=[];for(let i of e){let s=[],l=[];for(let a=0;a<20;a++){let u=be(i,n,o),{result:c,result_func:p}=_(i,u,1),{schedule:x}=Y(u),M=E(u,x);console.log(`Розмірність задачі: ${i}, Запуск: ${a+1}`),console.log(`  Початковий розв’язок з жадібного алгоритму - Цільова функція (ЦФ): ${M}`),console.log(`  Початковий розв’язок з мурашиного алгоритму - Цільова функція (ЦФ): ${p}`);let{bestTime:I}=N(u,c),{bestTime:v}=N(u,x);console.log(`  Попарні перестановки з початковим розв’язком з мурашиного алгоритму - ЦФ: ${I}`),console.log(`  Попарні перестановки з початковим розв’язком з жадібного алгоритму - ЦФ: ${v}`);let A=q(I,p),C=q(v,M);console.log(`  Відхилення ЦФ для методу попарних перестановок відносно ЦФ отриманої за допомогою мурашиного алгоритму: ${A}`),console.log(`  Відхилення ЦФ для методу попарних перестановок відносно ЦФ отриманої за допомогою жадібного алгоритму: ${C}`),s.push(A),l.push(C)}r.push(K(s)),t.push(K(l))}return{labels:e,averageDeviationsFromAnt:r,averageDeviationsFromGreedy:t}}function q(e,n){return Math.abs(e-n)/Math.min(e,n)}function we(e,n){const o=document.getElementById(n).getContext("2d");new Chart(o,{type:"bar",data:{labels:e.labels,datasets:[{label:"Відхилення від ЦФ мурашиного алгоритму",data:e.averageDeviationsFromAnt,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:1},{label:"Відхилення від ЦФ жадібного алгоритму",data:e.averageDeviationsFromGreedy,backgroundColor:"rgb(182, 96, 130)",borderColor:"rgba(180, 70, 130, 1)",borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Середнє відхилення ЦФ для методу попарних перестановок відносно ЦФ мурашиного та жадібного алгоритмів"},tooltip:{callbacks:{label:function(r){return`Середнє відхилення: ${r.raw}`}}}},scales:{x:{beginAtZero:!1,title:{display:!0,text:"Кількість студентів (n)"}},y:{beginAtZero:!1,title:{display:!0,text:"Середнє відхилення"}}},layout:{backgroundColor:"rgba(211, 211, 211, 1)"}}})}function K(e){if(e.length===0)return 0;let n=0;for(let o=0;o<e.length;o++)n+=e[o];return n/e.length}const Ie=[4,6,8,10,12,14,16,18,20],ve=100,Me=10,Ce=Fe(Ie,ve,Me);Ae(Ce,"timeTest");function Fe(e,n,o){let r=[],t=[],i=[],s=[];for(let l=0;l<e.length;l+=1){let a=[],u=[],c=[],p=[];for(let x=0;x<20;x+=1){const M=G(e[l],n,o),I=D(e[l],n,o),v=.1,A=Y(I).executionTimeGreedy+v,C=_(e[l],I).executionTime+v,P=J(I,M).executionTimeBnB+v,R=N(I).executionTimePairwise+v;a.push(A),c.push(P),p.push(R),u.push(C)}r.push(k(a)),i.push(k(c)),s.push(k(p)),t.push(k(u))}return{labels:e,averageTimesGreedy:r,averageTimesAnt:t,averageTimesBnB:i,averageTimesPP:s}}function Ae(e,n){const o=document.getElementById(n).getContext("2d");new Chart(o,{type:"bar",data:{labels:e.labels,datasets:[{label:"Greedy",data:e.averageTimesGreedy,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:1},{label:"Ant",data:e.averageTimesAnt,backgroundColor:"rgb(182, 96, 130)",borderColor:"rgba(180, 70, 130, 1)",borderWidth:1},{label:"BnB",data:e.averageTimesBnB,backgroundColor:"rgb(96, 182, 130)",borderColor:"rgba(70, 180, 130, 1)",borderWidth:1},{label:"Pairwise",data:e.averageTimesPP,backgroundColor:"rgb(130, 96, 182)",borderColor:"rgba(130, 70, 180, 1)",borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Average Execution Time vs Number of Students"},tooltip:{callbacks:{label:function(r){return`Average Execution Time: ${r.raw}`}}}},scales:{x:{beginAtZero:!1,title:{display:!0,text:"Number of Students (n)"}},y:{beginAtZero:!1,title:{display:!0,text:"Average Execution Time (ms)"}}},layout:{backgroundColor:"rgba(211, 211, 211, 1)"}}})}function k(e){if(e.length===0)return 0;let n=0;for(let o=0;o<e.length;o++)n+=e[o];return n/e.length}
//# sourceMappingURL=commonHelpers.js.map
