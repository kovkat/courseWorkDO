(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerPolicy&&(l.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?l.credentials="include":t.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(t){if(t.ep)return;t.ep=!0;const l=n(t);fetch(t.href,l)}})();const H={generateMatrix:function(e,o,n){L(e,o,n,!0);const r=o-n,t=o+n,l=Array.from({length:e},()=>Array.from({length:e},()=>1/0));for(let s=0;s<e;s+=1)for(let i=0;i<e;i+=1)s%2!==i%2&&(l[s][i]=Math.floor(Math.random()*(t-r+1))+r);return l},generateLessonDuration:function(e){return L(e),Array.from({length:e},()=>Math.floor(Math.random()*(120-45+1))+45)}};function L(e,o,n,r=!1){if(!Number.isInteger(e)||e<=0||e%2!==0)throw new Error("Неправильні вхідні дані! Очікується ціле додатнє парне число для numOfStudents.");if(r&&(o<0||n<0))throw new Error("Неправильні вхідні дані! Очікуються не від’ємні значення для tau і deltaTau.")}const G=H.generateMatrix,_=H.generateLessonDuration;function Z(e,o){let n=0,r=0;e.forEach((s,i)=>{let a=Math.min.apply(null,s);(isNaN(a)||!isFinite(a))&&(a=0),n+=a;let u=s.map(c=>c-=a);e[i]=u}),e=e[0].map((s,i)=>e.map(a=>a[i])),e.forEach((s,i)=>{let a=Math.min.apply(null,s);(isNaN(a)||!isFinite(a))&&(a=0),r+=a;let u=s.map(c=>c-=a);e[i]=u}),e=e[0].map((s,i)=>e.map(a=>a[i]));let t=n+r;return{index:o,matrix:e,cost:t}}function se(e,o,n){const r=e.map(t=>t.slice());for(let t=0;t<e.length;t+=1)r[o][t]=1/0,r[t][n]=1/0,r[n][o]=1/0,r[n][0]=1/0;return r}function ae(e){for(let i=0;i<e.length;i+=1)for(let a=0;a<e.length;a+=1)i==a&&(e[i][a]=1/0);const o=[],n=Z(e,0);o.push({Node:n.index+1,cost:n.cost});let r=n.index,t=n.matrix.map(i=>i.slice()),l=n.cost;for(let i=0;i<e.length-1;i++){let a=[];for(let c=1;c<e.length;c++){const p=se(t,r,c),T=Z(p,c);T.cost=T.cost+l+t[r][c],a.push(T)}let u=a.reduce(function(c,p){return c.cost<p.cost?c:p});o.push({Node:u.index+1,cost:u.cost}),r=u.index,t=u.matrix.map(c=>c.slice()),l=u.cost}const s=o[o.length-1].cost;return{minCostArray:o,lastCost:s}}function ce(e){let o="";for(let n=0;n<e.length;n++){const r=n===e.length-1,t=e[n].Node,l=n%2===0;r?o+=l?`g${t}`:`b${t}`:o+=l?`g${t} -> `:`b${t} -> `}return o}function ue(e){return e.reduce((o,n)=>o+n,0)}function de(e,o){return e+o}function J(e,o){const n=performance.now();let{minCostArray:r,lastCost:t}=ae(e),l=ce(r),s=ue(o),i=de(s,t);const u=performance.now()-n;return{totalWorkTimeBnB:i,scheduleBnB:l,executionTimeBnB:u}}const fe=8,ge=100,Q=[10,50];function me(e,o,n){let r=[];const t=_(e);for(let l=0;l<n.length;l+=1){const s=G(e,o,n[l]);let i=J(s,t);r.push(i.totalWorkTimeBnB)}return r}let U=me(fe,ge,Q);console.log(U);function pe(e,o,n){const r=document.getElementById(n).getContext("2d");new Chart(r,{type:"bar",data:{labels:e,datasets:[{label:"ЦФ vs ∆τ",data:o,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:0}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Графік залежності ЦФ від ∆τ"},tooltip:{callbacks:{label:function(t){return`Цільова функція: ${t.raw}`}}}},scales:{x:{beginAtZero:!0,title:{display:!0,text:"Значення напівінтервалу ∆τ"}},y:{beginAtZero:!0,title:{display:!0,text:"Цільова Функція"}}}}})}pe(Q,U,"bnbTest");function he(e,o,n){let r=[];for(let t=0;t<e;t+=1){r[t]=[];for(let l=0;l<e;l+=1){if(t%2===l%2){r[t][l]=1/0;continue}let s=o-n,i=o+n;r[t][l]=Math.floor(Math.random()*(i-s+1))+s}}return r}function X(e,o,n){let r=-1,t=1/0;for(let l=0;l<e.length;l++)!n.has(l)&&e[o][l]<t&&(t=e[o][l],r=l);return r}function be(e){let o=e.length,n=new Set,r=[],t=Math.floor(Math.random()*o);for(r.push(t),n.add(t);r.length<o;){let l=X(e,t,n);if(l===-1)break;r.push(l),n.add(l),t=l}return r}function Y(e){const o=performance.now();let n=e.length,r=new Set,t=[],l=Math.floor(Math.random()*n);for(t.push(l),r.add(l);t.length<n;){let a=X(e,l,r);if(a===-1)break;t.push(a),r.add(a),l=a}const i=performance.now()-o;return{schedule:t,executionTimeGreedy:i}}function E(e,o){let n=0;for(let r=0;r<o.length-1;r++)n+=e[o[r]][o[r+1]];return n}function j(e,o,n){const r=performance.now();let t=1,l=.7,s=.1,i=[],a=10,u=[],c,p=o.slice().map(f=>f.slice()),T=_(e);function C(f){return f.map(d=>Math.min(...d))}C(p);function x(f,d){const w=C(f);return d+=w.reduce((b,v)=>b+v,0),{matrix:f.map((b,v)=>b.map(($,g)=>$-w[v])),minBorder:d}}let{matrix:M,minBorder:B}=x(p,0);function F(f){const d=[];return Object.keys(f[0]).forEach(y=>{const b=f.map(v=>v[y]);d[y]=Math.min(...b)}),d}F(p);function k(f,d){const w=F(f);return d+=Object.values(w).reduce((b,v)=>b+v,0),{matrix:f.map((b,v)=>b.map(($,g)=>$-w[g])),minBorder:d}}let{matrix:R,minBorder:re}=k(p,0),le=re+B;for(let f=0;f<e;++f){i[f]=[];for(let d=0;d<e;++d)o[f][d]!=1/0?i[f][d]=l:i[f][d]=1/0}for(let f=1;f<=a;f++){let d=Math.floor(Math.random()*e),w=o.slice().map(g=>g.slice()),y=[],b=0,v=Array.from({length:e},()=>Array(e).fill(0));for(y.push(d);y.length<e;){for(let m=0;m<e;m++)w[m][d]=1/0;let g=0,h=new Map;for(let m=0;m<e;m++)w[d][m]!=1/0&&(g+=parseFloat(i[d][m]**n)*(1/o[d][m])**t);for(let m=0;m<e;m++){let A=0;if(w[d][m]!=1/0)if(A=parseFloat(i[d][m]**n*(1/o[d][m])**t/g).toFixed(4),h.size===0)h.set(m,parseFloat(A));else{let ie=Array.from(h.values()).pop();A=parseFloat(parseFloat(A)+parseFloat(ie)).toFixed(4),h.set(m,parseFloat(A))}}let P=parseFloat(Math.random()).toFixed(4);for(let[m,A]of h.entries())if(parseFloat(P)<=parseFloat(A)){d=m,y.push(d);break}}for(let g=0;g<y.length-1;g++){const h=y[g],P=y[g+1];b+=parseFloat(o[h][P])+T[g],v[h][P]=1}let $=le/b;for(let g=0;g<e;g++)for(let h=0;h<e;h++)o[g][h]!=1/0&&(v[g][h]===1?i[g][h]=parseFloat((1-s)*i[g][h]+$).toFixed(4):i[g][h]=parseFloat((1-s)*i[g][h]).toFixed(4));(f===1||c>b)&&(u=y,c=b)}const W=performance.now()-r;return console.log("Розклад: ",u),console.log("Значення ЦФ: ",c),console.log("ExecutionTime: ",W),{result:u,result_func:c,executionTime:W}}function ye(e,o){let n=e.slice(),r=Math.random()<.5?0:1,t=[];for(let a=0;a<o;a++)a%2===r&&t.push(a);let l=t[Math.floor(Math.random()*t.length)],s=t[Math.floor(Math.random()*t.length)];for(;l===s;)s=t[Math.floor(Math.random()*t.length)];let i=n[l];return n[l]=n[s],n[s]=i,n}function N(e,o=be(e),n=1e3){const r=performance.now();let t=o,l=t,s=E(e,t),i=0;for(;i<n;){let c=ye(t,t.length),p=E(e,c);p<s&&(s=p,l=c),t=c,i++}const u=performance.now()-r;return{bestSchedule:l,bestTime:s,executionTimePairwise:u}}const ee=[4,6,8,10,12,14,16,18,20],te=100,oe=10,Te=ne(ee,te,oe);Ce(Te,"timeTest");let{averageTimesGreedy:ve,averageTimesAnt:we,averageTimesBnB:xe,averageTimesPP:Me}=ne(ee,te,oe);console.log("averageTimesGreedy – ",ve);console.log("averageTimesAnt – ",we);console.log("averageTimesBnB – ",xe);console.log("averageTimesPP – ",Me);function ne(e,o,n){let r=[],t=[],l=[],s=[];for(let i=0;i<e.length;i+=1){let a=[],u=[],c=[],p=[];for(let T=0;T<20;T+=1){const C=_(e[i],o,n),x=G(e[i],o,n),M=.1,B=Y(x).executionTimeGreedy+M,F=j(e,x).executionTime+M,k=J(x,C).executionTimeBnB+M,R=N(x).executionTimePairwise+M;a.push(B),c.push(k),p.push(R),u.push(F)}r.push(I(a)),l.push(I(c)),s.push(I(p)),t.push(I(u))}return{labels:e,averageTimesGreedy:r,averageTimesAnt:t,averageTimesBnB:l,averageTimesPP:s}}function Ce(e,o){const n=document.getElementById(o).getContext("2d");new Chart(n,{type:"bar",data:{labels:e.labels,datasets:[{label:"Greedy",data:e.averageTimesGreedy,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:1},{label:"Ant",data:e.averageTimesAnt,backgroundColor:"rgb(182, 96, 130)",borderColor:"rgba(180, 70, 130, 1)",borderWidth:1},{label:"BnB",data:e.averageTimesBnB,backgroundColor:"rgb(96, 182, 130)",borderColor:"rgba(70, 180, 130, 1)",borderWidth:1},{label:"Pairwise",data:e.averageTimesPP,backgroundColor:"rgb(130, 96, 182)",borderColor:"rgba(130, 70, 180, 1)",borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Average Execution Time vs Number of Students"},tooltip:{callbacks:{label:function(r){return`Average Execution Time: ${r.raw}`}}}},scales:{x:{beginAtZero:!1,title:{display:!0,text:"Number of Students (n)"}},y:{beginAtZero:!1,title:{display:!0,text:"Average Execution Time (ms)"}}},layout:{backgroundColor:"rgba(211, 211, 211, 1)"}}})}function I(e){if(e.length===0)return 0;let o=0;for(let n=0;n<e.length;n++)o+=e[n];return o/e.length}const Fe=8,Ae=100,Be=10,D=[1,2,3,4,5];function $e(e,o,n,r){let t=[],l=G(e,o,n);console.table(l);for(let s=0;s<r.length;s+=1){let i=j(e,l,r[s]);t.push(i.result_func),console.log(t)}return t}let Pe=$e(Fe,Ae,Be,D);function Ie(e,o,n){const r=document.getElementById(n).getContext("2d");new Chart(r,{type:"bar",data:{labels:D,datasets:[{label:"ЦФ vs a",data:o,backgroundColor:"rgb(255, 182, 193, 0.5)",borderColor:"rgba(255, 105, 180, 1)",borderWidth:0}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Графік залежності ЦФ від a"},tooltip:{callbacks:{label:function(t){return`Цільова функція: ${t.raw}`}}}},scales:{x:{beginAtZero:!0,title:{display:!0,text:"Значення напівінтервалу a"}},y:{beginAtZero:!0,title:{display:!0,text:"Цільова Функція"}}}}})}Ie(D,Pe,"antTest");const S=[4,6,8,10,12,14,16,18,20],V=100,z=10;document.addEventListener("DOMContentLoaded",()=>{const e=O(S,V,z);ke(e,"deviationTest");let{averageDeviationsFromAnt:o,averageDeviationsFromGreedy:n}=O(S,V,z);console.log("Середні відхилення ЦФ для методу попарних перестановок відносно ЦФ отриманої за допомогою мурашиного алгоритму – ",o),console.log("Середні відхилення ЦФ для методу попарних перестановок відносно ЦФ отриманої за допомогою жадібного алгоритму – ",n)});function O(e,o,n){let r=[],t=[];for(let l of e){let s=[],i=[];for(let a=0;a<20;a++){let u=he(l,o,n),{result:c,result_func:p}=j(l,u,1),{schedule:T}=Y(u),C=E(u,T);console.log(`Розмірність задачі: ${l}, Запуск: ${a+1}`),console.log(`  Початковий розв’язок з жадібного алгоритму - Цільова функція (ЦФ): ${C}`),console.log(`  Початковий розв’язок з мурашиного алгоритму - Цільова функція (ЦФ): ${p}`);let{bestTime:x}=N(u,c),{bestTime:M}=N(u,T);console.log(`  Попарні перестановки з початковим розв’язком з мурашиного алгоритму - ЦФ: ${x}`),console.log(`  Попарні перестановки з початковим розв’язком з жадібного алгоритму - ЦФ: ${M}`);let B=q(x,p),F=q(M,C);console.log(`  Відхилення ЦФ для методу попарних перестановок відносно ЦФ отриманої за допомогою мурашиного алгоритму: ${B}`),console.log(`  Відхилення ЦФ для методу попарних перестановок відносно ЦФ отриманої за допомогою жадібного алгоритму: ${F}`),s.push(B),i.push(F)}r.push(K(s)),t.push(K(i))}return{labels:e,averageDeviationsFromAnt:r,averageDeviationsFromGreedy:t}}function q(e,o){return Math.abs(e-o)/Math.min(e,o)}function ke(e,o){const n=document.getElementById(o).getContext("2d");new Chart(n,{type:"bar",data:{labels:e.labels,datasets:[{label:"Відхилення від ЦФ мурашиного алгоритму",data:e.averageDeviationsFromAnt,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:1},{label:"Відхилення від ЦФ жадібного алгоритму",data:e.averageDeviationsFromGreedy,backgroundColor:"rgb(182, 96, 130)",borderColor:"rgba(180, 70, 130, 1)",borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Середнє відхилення ЦФ для методу попарних перестановок відносно ЦФ мурашиного та жадібного алгоритмів"},tooltip:{callbacks:{label:function(r){return`Середнє відхилення: ${r.raw}`}}}},scales:{x:{beginAtZero:!1,title:{display:!0,text:"Кількість студентів (n)"}},y:{beginAtZero:!1,title:{display:!0,text:"Середнє відхилення"}}},layout:{backgroundColor:"rgba(211, 211, 211, 1)"}}})}function K(e){if(e.length===0)return 0;let o=0;for(let n=0;n<e.length;n++)o+=e[n];return o/e.length}
//# sourceMappingURL=commonHelpers.js.map
