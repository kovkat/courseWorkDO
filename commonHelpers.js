(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();function W(t,n,r){let l=[];for(let e=0;e<t;e+=1){l[e]=[];for(let o=0;o<t;o+=1){if(e%2===o%2){l[e][o]=1/0;continue}let s=n-r,c=n+r;l[e][o]=Math.floor(Math.random()*(c-s+1))+s}}return l}function N(t,n,r){let l=-1,e=1/0;for(let o=0;o<t.length;o++)!r.has(o)&&t[n][o]<e&&(e=t[n][o],l=o);return l}function Z(t){let n=t.length,r=new Set,l=[],e=Math.floor(Math.random()*n);for(l.push(e),r.add(e);l.length<n;){let o=N(t,e,r);if(o===-1)break;l.push(o),r.add(o),e=o}return l}function q(t){const n=performance.now();let r=t.length,l=new Set,e=[],o=Math.floor(Math.random()*r);for(e.push(o),l.add(o);e.length<r;){let m=N(t,o,l);if(m===-1)break;e.push(m),l.add(m),o=m}const c=performance.now()-n;return{schedule:e,executionTimeGreedy:c}}function O(t,n){let r=0;for(let l=0;l<n.length-1;l++)r+=t[n[l]][n[l+1]];return r}function z(t,n){let r=t.slice(),l=Math.random()<.5?0:1,e=[];for(let m=0;m<n;m++)m%2===l&&e.push(m);let o=e[Math.floor(Math.random()*e.length)],s=e[Math.floor(Math.random()*e.length)];for(;o===s;)s=e[Math.floor(Math.random()*e.length)];let c=r[o];return r[o]=r[s],r[s]=c,r}function P(t,n=Z(t),r=1e3){const l=performance.now();let e=n,o=e,s=O(t,e),c=0;for(;c<r;){let y=z(e,e.length),w=O(t,y);w<s&&(s=w,o=y),e=y,c++}const g=performance.now()-l;return{bestSchedule:o,bestTime:s,executionTimePairwise:g}}function K(t,n,r=1){const l=performance.now();let e=1,o=.7,s=.1,c=[],m=10,g=[],y,w=n.slice().map(a=>a.slice());function v(a){return a.map(i=>Math.min(...i))}v(w);function A(a,i){const F=v(a);return i+=F.reduce((p,b)=>p+b,0),{matrix:a.map((p,b)=>p.map((x,u)=>x-F[b])),minBorder:i}}let{matrix:I,minBorder:C}=A(w,0);function T(a){const i=[];return Object.keys(a[0]).forEach(h=>{const p=a.map(b=>b[h]);i[h]=Math.min(...p)}),i}T(w);function S(a,i){const F=T(a);return i+=Object.values(F).reduce((p,b)=>p+b,0),{matrix:a.map((p,b)=>p.map((x,u)=>x-F[u])),minBorder:i}}let{matrix:J,minBorder:R}=S(w,0),k=R+C;for(let a=0;a<t;++a){c[a]=[];for(let i=0;i<t;++i)n[a][i]!=1/0?c[a][i]=o:c[a][i]=1/0}for(let a=1;a<=m;a++){let i=Math.floor(Math.random()*t),F=n.slice().map(u=>u.slice()),h=[],p=0,b=Array.from({length:t},()=>Array(t).fill(0));for(h.push(i);h.length<t;){for(let d=0;d<t;d++)F[d][i]=1/0;let u=0,f=new Map;for(let d=0;d<t;d++)F[i][d]!=1/0&&(u+=parseFloat(c[i][d]**r)*(1/n[i][d])**e);for(let d=0;d<t;d++){let M=0;if(F[i][d]!=1/0)if(M=parseFloat(c[i][d]**r*(1/n[i][d])**e/u).toFixed(4),f.size===0)f.set(d,parseFloat(M));else{let B=Array.from(f.values()).pop();M=parseFloat(parseFloat(M)+parseFloat(B)).toFixed(4),f.set(d,parseFloat(M))}}let D=parseFloat(Math.random()).toFixed(4);for(let[d,M]of f.entries())if(parseFloat(D)<=parseFloat(M)){i=d,h.push(i);break}}for(let u=0;u<h.length-1;u++){const f=h[u],D=h[u+1];p+=parseFloat(n[f][D]),b[f][D]=1}let x=k/p;for(let u=0;u<t;u++)for(let f=0;f<t;f++)n[u][f]!=1/0&&(b[u][f]===1?c[u][f]=parseFloat((1-s)*c[u][f]+x).toFixed(4):c[u][f]=parseFloat((1-s)*c[u][f]).toFixed(4));(a===1||y>p)&&(g=h,y=p)}console.log("Розклад: ",g),console.log("Значення ЦФ: ",y);const V=performance.now()-l;return{result:g,result_func:y,executionTime:V}}const $=[4,6,8,10,12,14,16,18,20],G=100,_=10;document.addEventListener("DOMContentLoaded",()=>{const t=L($,G,_);H(t,"deviationTest");let{averageDeviationsFromAnt:n,averageDeviationsFromGreedy:r}=L($,G,_);console.log("Середні відхилення ЦФ для методу попарних перестановок відносно ЦФ отриманої за допомогою мурашиного алгоритму – ",n),console.log("Середні відхилення ЦФ для методу попарних перестановок відносно ЦФ отриманої за допомогою жадібного алгоритму – ",r)});function L(t,n,r){let l=[],e=[];for(let o of t){let s=[],c=[];for(let m=0;m<20;m++){let g=W(o,n,r),{result:y,result_func:w}=K(o,g,1),{schedule:v}=q(g),A=O(g,v);console.log(`Розмірність задачі: ${o}, Запуск: ${m+1}`),console.log(`  Початковий розв’язок з жадібного алгоритму - Цільова функція (ЦФ): ${A}`),console.log(`  Початковий розв’язок з мурашиного алгоритму - Цільова функція (ЦФ): ${w}`);let{bestTime:I}=P(g,y),{bestTime:C}=P(g,v);console.log(`  Попарні перестановки з початковим розв’язком з мурашиного алгоритму - ЦФ: ${I}`),console.log(`  Попарні перестановки з початковим розв’язком з жадібного алгоритму - ЦФ: ${C}`);let T=j(I,w),S=j(C,A);console.log(`  Відхилення ЦФ для методу попарних перестановок відносно ЦФ отриманої за допомогою мурашиного алгоритму: ${T}`),console.log(`  Відхилення ЦФ для методу попарних перестановок відносно ЦФ отриманої за допомогою жадібного алгоритму: ${S}`),s.push(T),c.push(S)}l.push(E(s)),e.push(E(c))}return{labels:t,averageDeviationsFromAnt:l,averageDeviationsFromGreedy:e}}function j(t,n){return Math.abs(t-n)/Math.min(t,n)}function H(t,n){const r=document.getElementById(n).getContext("2d");new Chart(r,{type:"bar",data:{labels:t.labels,datasets:[{label:"Відхилення від ЦФ мурашиного алгоритму",data:t.averageDeviationsFromAnt,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:1},{label:"Відхилення від ЦФ жадібного алгоритму",data:t.averageDeviationsFromGreedy,backgroundColor:"rgb(182, 96, 130)",borderColor:"rgba(180, 70, 130, 1)",borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Середнє відхилення ЦФ для методу попарних перестановок відносно ЦФ мурашиного та жадібного алгоритмів"},tooltip:{callbacks:{label:function(l){return`Середнє відхилення: ${l.raw}`}}}},scales:{x:{beginAtZero:!1,title:{display:!0,text:"Кількість студентів (n)"}},y:{beginAtZero:!1,title:{display:!0,text:"Середнє відхилення"}}},layout:{backgroundColor:"rgba(211, 211, 211, 1)"}}})}function E(t){if(t.length===0)return 0;let n=0;for(let r=0;r<t.length;r++)n+=t[r];return n/t.length}
//# sourceMappingURL=commonHelpers.js.map
